<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="css/main.css">
        <script src="../../libs/js/modernizr-2.6.2-respond-1.1.0.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 9]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
      <div class="wrapper memoria" id="descomposicion">
        
        <div id="main">

            <div id="menu">
               
            </div>
            

            <div id="content">
              <div class="clear"></div>
              <div id="var">
                





              </div><!-- var-->
              <div id="successMessage">           
              </div>

            </div><!-- content -->
        </div><!-- main -->

         <div id="logos">
          <!--<img class="edinum" src="img/edinun.png" width="50" height="47">-->
          <img class="digiaulas" src="img/digiaulas.png" width="158" height="48">
        </div><!--logos -->

         <div id="instrucciones">
            <ol>
            <li>Elige la actividad que deseas realizar</li>
            <li>Realiza la actividad</li>
            <li>Haz clic sostenido para arrastrar las tarjetas hasta el recuadro de descomposición y representar el número planteado.</li>
            <li>Si su respuesta es correcta haz clic el el botón ESCRIBE EL NÚMERO</li>
            <li>Si su respuesta es correcta haz clic el el botón GRAFICA EL NÚMERO</li>
            </ol>
         </div>
        

         <div id="nav">
            <button id="instrucciones" class="pulse">Instrucciones</button>
            <button id="regresar" class="pulse">Regresar</button>
         </div><!--nav-->
         <img id="titulo" src="img/diccionarioLudico.png" width="202" height="94">
         <img id="avatar" src="img/muneco2.png" width="170" height="187">

      </div><!-- contenedor -->
    <script src="../../libs/js/jquery-1.11.0.min.js"></script>
    <script src="../../libs/js/jquery-ui.1.10.4.min.js"></script>
    <script src="../../libs/js/handlebars.min.js"></script>
    <script src="../../libs/js/funciones.js"></script> 

    
    </body>
</html>
<script id="menuTemplate" type="text/x-handlebars-template">
    <p>nivel:</p>
    <ul> 
        {{#each this}}
            <li class="pulse" data-id="{{id}}">{{texto}}</li>
        {{/each}}
    </ul>    
  </script>


<script id="cartasTemplate" type="text/x-handlebars-template">
    <div class="hover panel flip">
        <div class="front">
            <div class="pad">
                <h2>Mouse Over Me!</h2>
                <p>
                    The effect on this box can be done using 100% CSS.<br><br>
                    The other boxes all require some Javascript, but the animation is driven by CSS3.
                </p>
            </div>
        </div>
        <div class="back">
            <div class="pad">
                <h2>check you on the flip side</h2>
            </div>
        </div>
    </div>
</script>


<script type="text/javascript">

  $(start);
  
  function start(){
    cerrarMensaje();

    var contenedor = $('#var'),
        correctCards = 0,
        cartas = '',
        menuTemplate = $('#menuTemplate'),
        menu = $('#menu'),
        menuItems = [
            { 
              texto: 'Nivel 1',
              id: '1'
            },   
            { 
              texto: 'Nivel 2',
              id:'2'
            },
          ];// var menu

      template = Handlebars.compile(menuTemplate.html());
      menu.html(template(menuItems)).hide().fadeIn();

        
      // Hide the success message
      
     
  

    menu.find('ul > li').on('click', function(){
      var id = $(this).data('id'),
          cartas ="",
          clase = "";

      if(id==1){
        numero = 8;
        clase = 'ocho';
        simbolos = ['corazón' , 'pelota' , 'manzana', 'melón'];
      }else{
        numero = 14;
        clase = 'catorce';
        simbolos = ['corazón' , 'pelota' , 'manzana', 'melón' , 'pera', 'banana', 'sandia'];
      }


      for(var i=0; i<2; i++){
          simbolos = shuffle(simbolos);
          for( var j=0; j < numero / 2 ; j++ ){
              cartas +='<div class="cartas"><p>' + simbolos[j] + '</p></div>';

          }
      }

        contenedor.removeClass().addClass(clase).html(cartas);

        var cartas = $('div.cartas');

        cartas.on('click', function(){
            if($('p.mostrado').length < 2){
                $(this).find('p').fadeIn().addClass('mostrado');
            }
            var textos = [];
            $.each($('p.mostrado'), function(){
                textos.push($(this).text());
                console.log(textos.length);
                if(textos.length == 2){
                  if(textos[0]==textos[1]){
                    $('p.mostrado').removeClass('mostrado').parent('.cartas').addClass('correcto');
                  }else{
                    $('p.mostrado').delay(2000).fadeOut(function(){
                        $(this).removeClass('mostrado');
                    });
                  }
                }//textos length
                  
            });
        });


      
      }); //menuButtons.click



  }//start

</script>
